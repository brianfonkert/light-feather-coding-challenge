(this["webpackJsonplight-feather-coding-challenge"]=this["webpackJsonplight-feather-coding-challenge"]||[]).push([[0],{178:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(24),r=a.n(i),c=(a(81),a(68)),l=a.n(c),o=a(3),u=function(e){return Object(o.jsx)("header",{className:l.a["main-header"],children:Object(o.jsx)("h2",{children:e.title})})},m=a(69),d=a.n(m),b=function(e){return Object(o.jsx)("div",{className:"".concat(d.a.card," ").concat(e.className),children:e.children})},j=a(31),h=a.n(j),p=a(50),x=a(10),O=a(71),f=a(22),g=a.n(f),v=function(e){return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:g.a.backdrop,children:Object(o.jsxs)(b,{className:g.a.modal,children:[Object(o.jsx)(u,{title:e.title}),Object(o.jsx)("div",{className:g.a.content,children:Object(o.jsx)("p",{children:e.message})}),Object(o.jsx)("footer",{className:g.a.actions,children:Object(o.jsx)("button",{className:g.a.button,onClick:e.onConfirm,children:"Okay"})})]})})})},_=a(44),y=a.n(_),N=a(74),w=a(7),S=a.n(w),k=a(72),C=function(){var e={Strictmode:!1},t={ignore:" -'"},a=Object(n.useState)(""),s=Object(x.a)(a,2),i=s[0],r=s[1],c=Object(n.useState)(""),l=Object(x.a)(c,2),u=l[0],m=l[1],d=Object(n.useState)(""),b=Object(x.a)(d,2),j=b[0],f=b[1],g=Object(n.useState)(""),_=Object(x.a)(g,2),w=_[0],C=_[1],E=Object(n.useState)([]),P=Object(x.a)(E,2),F=P[0],T=P[1],q=Object(n.useState)([]),L=Object(x.a)(q,2),M=L[0],U=L[1],B=Object(n.useState)([]),D=Object(x.a)(B,2),H=D[0],I=D[1],V=Object(n.useState)(!1),z=Object(x.a)(V,2),J=z[0],A=z[1],G=Object(n.useState)(!1),R=Object(x.a)(G,2),K=R[0],Q=R[1],X=Object(n.useState)(),Y=Object(x.a)(X,2),W=Y[0],Z=Y[1];Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://o3m5qixdng.execute-api.us-east-1.amazonaws.com/api/supervisors");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error;case 6:return e.next=8,t.json();case 8:a=e.sent,n=a.results.map((function(e){return{value:e.name.first+" "+e.name.last,label:e.name.first+" "+e.name.last}})),U(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Z({title:"HTTP Error",message:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var $=function(a){0!==a.firstname.trim().length?y.a.isAlpha(a.firstname,"en-US",t)?0!==a.lastname.trim().length?y.a.isAlpha(a.lastname,"en-US",t)?J||K?J&&0===a.email.trim().length?Z({title:"Email required",message:"Please enter an email."}):!J||y.a.isEmail(a.email)?K&&""===a.phone?Z({title:"Phone number required",message:"Please enter a phone number."}):!K||Object(k.a)(a.phone,"en-US",e)?void 0!==a.supervisor?function(e){ee.apply(this,arguments)}(a):Z({title:"Supervisor required",message:"Please select a supervisor."}):Z({title:"Phone number invalid",message:"Please enter a valid phone number."}):Z({title:"Email invalid",message:"Please enter a valid email address. Valid format: example@test.com"}):Z({title:"Notification method required",message:"Please select and enter at least one notification method."}):Z({title:"Last name invalid",message:"Last name may not contain numbers or symbols. Dashes and apostrophes are allowed."}):Z({title:"Last name required",message:"Please fill in your last name."}):Z({title:"First name invalid",message:"First name may not contain numbers or symbols. Dashes and apostrophes are allowed."}):Z({title:"First name required",message:"Please fill in your first name."})};function ee(){return(ee=Object(p.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,fetch("https://o3m5qixdng.execute-api.us-east-1.amazonaws.com/api/submit",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 4:if((a=e.sent).ok){e.next=7;break}throw new Error;case 7:return e.next=9,a.status;case 9:n=e.sent,console.log(n),Z({title:"Thank you!",message:"Your form has been submitted!"}),r(""),m(""),A(!1),Q(!1),f(""),C(""),T([]),I([]),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),Z({title:"HTTP Error",message:e.t0.message});case 25:case"end":return e.stop()}}),e,null,[[1,22]])})))).apply(this,arguments)}return Object(o.jsxs)(o.Fragment,{children:[W&&Object(o.jsx)(v,{onConfirm:function(){Z(null)},title:W.title,message:W.message}),Object(o.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var t={firstname:i.trim(),lastname:u.trim(),email:j,phone:w,supervisor:F.value};$(t)},children:[Object(o.jsxs)("div",{className:S.a.wrapper,children:[Object(o.jsx)("label",{className:S.a.label,children:"First Name"}),Object(o.jsx)("input",{id:"firstname",value:i,className:S.a.input,onChange:function(e){r(e.target.value)}})]}),Object(o.jsxs)("div",{className:S.a.wrapper,children:[Object(o.jsx)("label",{className:S.a.label,children:"Last Name"}),Object(o.jsx)("input",{id:"lastname",value:u,className:S.a.input,onChange:function(e){m(e.target.value)}})]}),Object(o.jsx)("div",{children:Object(o.jsx)("span",{className:S.a.span,children:"How would you prefer to be notified?"})}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:S.a.wrapper,children:[Object(o.jsxs)("div",{style:{marginLeft:"8px"},children:[Object(o.jsx)("input",{id:"emailchk",type:"checkbox",checked:J,onChange:function(){A(!J),J&&f("")}}),Object(o.jsx)("label",{style:{color:"white"},children:"Email"})]}),Object(o.jsx)("input",{id:"email",disabled:!J,className:S.a.input,type:"email",value:j,onChange:function(e){f(e.target.value)}})]}),Object(o.jsxs)("div",{className:S.a.wrapper,children:[Object(o.jsxs)("div",{style:{marginLeft:"8px"},children:[Object(o.jsx)("input",{id:"phonechk",type:"checkbox",checked:K,onChange:function(){Q(!K),K&&C("")},className:S.a.inputcheckbox}),Object(o.jsx)("label",{style:{color:"white"},children:"Phone Number"})]}),Object(o.jsx)(N.a,{className:S.a.input,disabled:!K,country:"US",value:w,onChange:function(e){C(void 0!==e?e:"")}})]})]}),Object(o.jsxs)("div",{style:{padding:"0px 10px 10px 10px",width:"300px",margin:"auto"},children:[Object(o.jsx)("label",{style:{color:"white",marginBottom:"10px"},children:"Supervisor"}),Object(o.jsx)(O.a,{id:"supervisor",isClearable:!0,value:H,defaultValue:"Select...",options:M,onChange:function(e){I(e),T(null===e?[]:e)}})]}),Object(o.jsx)("div",{style:{height:"50px"},children:Object(o.jsx)("button",{className:S.a.button,type:"submit",children:"Submit"})})]})]})};var E=function(){return Object(o.jsxs)(b,{children:[Object(o.jsx)(u,{title:"Notification Form"}),Object(o.jsx)(C,{})]})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,186)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))};r.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(E,{})}),document.getElementById("root")),P()},22:function(e,t,a){e.exports={actions:"ErrorModal_actions__2f6Iy",backdrop:"ErrorModal_backdrop__3Ksgd",button:"ErrorModal_button__3daHs",modal:"ErrorModal_modal__3xQOu",content:"ErrorModal_content__28Tsm"}},68:function(e,t,a){e.exports={"main-header":"Header_main-header__3eRh7"}},69:function(e,t,a){e.exports={card:"Card_card__3BnUm"}},7:function(e,t,a){e.exports={input:"Form_input__2Uyqu",wrapper:"Form_wrapper__1nX-G",span:"Form_span__2iGzB",label:"Form_label__1ID9V",button:"Form_button__RyEad"}},81:function(e,t,a){}},[[178,1,2]]]);
//# sourceMappingURL=main.f9090e56.chunk.js.map